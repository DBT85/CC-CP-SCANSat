CONTRACT_TYPE:NEEDS[SCANsat]
{
	// Any suggestions or corrections? Send me a note on http://forum.kerbalspaceprogram.com/members/118151-DBT85
	// This contract only work with Contract Configurator and SCANsat 9.0
	
    name = ScanMohoLoResBiome

    // Contract text
    title = Altimetry & Biome Scan of Moho
    description = Feeling a bit warm? You will be! It's time we started a mission to Moho to begin to learn about the makeup of the surface there. Its going to be a bit toasty that close to Kerbol and Bob already had his sun tan lotion ready to go. He was very upset when we told him no.
    synopsis = Send a a pair of unkerbaled vessels to Moho. \n\nPut the first in a 25.4km orbit with an 89.9 degree inclination and scan Moho's surface with the SCAN Radar Altimetry Sensor. \n\nPut the second in a 111.5km orbit with an 89.9 degree inclination and use a SCAN Multispectral Sensor. \n\nYou'll see a suggested orbit for each in the Tracking Station, but feel free to just hit the targets below.
    completedMessage = Brilliant! As we suspected Moho looks like it was subjected to extreme volcanic activity in millenia gone by. Herman has already opened a small shrine to Hephaistos, god of Fire.

    // Target Celestial body - controls where the contract must be completed, has some automated
    // effects on numeric parameters (increasing science, etc.)
    targetBody = Moho
	
	// Always offered by the R&D department
	agent = Research & Development Department
	
    // Contract rewards
    advanceFunds = 10000.0
	rewardScience = 10.0
	rewardReputation = 10.0
    rewardFunds = 10000.0
	   
	// Can only be done once and only offered once at a time
	maxCompletions = 1
	maxSimultaneous = 1
	
	// Prestige level 2
	prestige = Significant

	
	PARAMETER
	{
		// Named for the Scottish physicist who predicted the existence of electromagnetic waves.
		name = Maxwell6
		type = VesselParameterGroup

		define = Maxwell VI
		disableOnStateChange = false
			
		PARAMETER
		{
			name = HasCrew1
			type = HasCrew
			maxCrew = 0
			minCrew = 0
		}
		
		PARAMETER
		{
			name = HasPart1
			type = HasPart
			
			part = SCANsat_Scanner
			minCount = 1
		}
	
		PARAMETER
		{
			title = Achieve an orbit with the following parameters
			name = Orbit
			type = Orbit
			targetBody = Moho
			minApA = 23245
			maxApA = 27431
			minPeA = 23154
			maxPeA = 27367
			minEccentricity = 0.0
			maxEccentricity = 0.0023
			minInclination = 89
			maxInclination = 89.9
			disableOnStateChange = false
		}
		
		PARAMETER
		{
			name = Duration
			type = Duration

			duration = 3d 5h

			preWaitText = We need a stable orbit for at least 
			waitingText = Orbit acquired, monitoring.
			completionText = Stable orbit confirmed!
		}
	}
	
	PARAMETER
	{
		name = SCANsatCoverage1
		type = SCANsatCoverage
		targetBody = Moho
		coverage = 50.0
		scanType = AltimetryLoRes
	}
	
	
	PARAMETER
	{
		// Named for the GeoEye Multispectral satellites launched in 2008.
		name = GeoEye4
		type = VesselParameterGroup

		define = GeoEye IV
		disableOnStateChange = false
			
		PARAMETER
		{
			name = HasCrew1
			type = HasCrew
			maxCrew = 0
			minCrew = 0
		}
		
		PARAMETER
		{
			name = HasPart1
			type = HasPart
			
			part = SCANsat_Scanner24
			minCount = 1
		}
	
		PARAMETER
		{
			title = Achieve an orbit with the following parameters
			name = Orbit
			type = Orbit
			targetBody = Moho
			minApA = 109520
			maxApA = 113814
			minPeA = 109452
			maxPeA = 113796
			minEccentricity = 0.0
			maxEccentricity = 0.0022
			minInclination = 89
			maxInclination = 89.9
			disableOnStateChange = false
		}
			
		PARAMETER
		{
			name = Duration
			type = Duration

			duration = 3d 5h

			preWaitText = We need a stable orbit for at least 
			waitingText = Orbit acquired, monitoring.
			completionText = Stable orbit confirmed!
		}
	}	
	
	PARAMETER
	{
		name = SCANsatCoverage2
		type = SCANsatCoverage
		targetBody = Moho
		coverage = 50.0
		scanType = Biome
	}
	
//	REQUIREMENT
//	{
//		name = Requirements
//		type = All
	
	//	REQUIREMENT
	//	{
	//		name = SCANsatCoverage3
	//		type = SCANsatCoverage
	//
	//		targetBody = Mun
	//
	//		// Contract is not valid unless Mun has 65% Biome data
	//		maxCoverage = 100.0
	//		minCoverage = 65.0		
	//
	//		// The type of scan to perform. Valid values are from SCANdata.SCANtype.
	//		scanType = Biome
	//	}	

	//	REQUIREMENT
	//	{
	//		name = SCANsatCoverage3
	//		type = SCANsatCoverage
	//
	//		targetBody = Minmus
	//
	//		// Contract is not valid unless Minmus has 65% Biome data
	//		maxCoverage = 100.0
	//		minCoverage = 65.0		
	//
	//		// The type of scan to perform. Valid values are from SCANdata.SCANtype.
	//		scanType = Biome
	//	}	
		
		REQUIREMENT
		{
			name = SCANsatCoverage4
			type = SCANsatCoverage

			targetBody = Moho

			// Maximum coverage that must be reached before the contract is valid.
			maxCoverage = 49.9
			minCoverage = 0.0

			// The type of scan to perform.  Valid values are from SCANdata.SCANtype.
			scanType = AltimetryLoRes
		}
//	}
	
	BEHAVIOUR
	{
		name = OrbitGenerator1
		type = OrbitGenerator

		// Use this to generate an orbit with specific parameters
		FIXED_ORBIT
		{
			// Body for the orbit - defaulted from the contract if not supplied
			targetBody = Moho

			// Actual orbit details. Note that REF represents the reference
			// body - but will be overriden by the targetBody.
			
			ORBIT
			// Moho surface is SMA = 250000
			{
				SMA = 275400
				ECC = 0.0001
				INC = 89.9
				LPE = 201
				LAN = 27
				MNA = 1.55872660382504
				EPH = 31.3999999999994
				REF = 1
			}
		}
		
		// Use this to generate an orbit with specific parameters
		FIXED_ORBIT
		{
			// Body for the orbit - defaulted from the contract if not supplied
			targetBody = Moho

			// Actual orbit details. Note that REF represents the reference
			// body - but will be overriden by the targetBody.
			
			ORBIT
			// Moho surface is SMA = 250000
			{
				SMA = 361500
				ECC = 0.0001
				INC = 89.9
				LPE = 230
				LAN = 36
				MNA = 1.55872660382504
				EPH = 31.3999999999994
				REF = 1
			}
		}
	}
}
