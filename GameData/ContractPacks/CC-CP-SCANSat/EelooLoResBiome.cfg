CONTRACT_TYPE:NEEDS[SCANsat]
{
	// Any suggestions or corrections? Send me a note on http://forum.kerbalspaceprogram.com/members/118151-DBT85
	// This contract only work with Contract Configurator and SCANsat 9.0

    name = ScanEelooLoResBiome

    // Contract text
    title = Altimetry and Biome Scan of Eeloo
    description = Somewhere out there is Eeloo and we want you to find it before someone changes its designation to "Rock" from the already embarrasing "Dwarf Planet". The journey will be long and difficult, but the data we can retrieve would be invaluable to us all. Being so far from Kerbol, solar power is going to be low so be careful not to let the vessel go to sleep.\n\nIf you're wise you'll take the oppertunity to attach any other science gear you can to the craft.
    synopsis = Send a single unkerbaled vessel into Eeloo orbit. Reach a 364.5km orbit with an 58.85 degree inclination and scan Eeloo's surface with both the SCAN Radar Altimetry Sensor and the SCAN Multispectral Sensor. \n\nYou'll see a suggested orbit in the Tracking Station, but feel free to just hit the targets below.
    completedMessage = Such a tiny planet. So far away. So cold. Excellent work, It's been so long since we embarked on this mission some of the engineers that launched it have had grand children!

    // Target Celestial body - controls where the contract must be completed, has some automated
    // effects on numeric parameters (increasing science, etc.)
    targetBody = Eeloo
	
	// Always offered by the R&D department
	agent = Research & Development Department
	
    // Contract rewards
    advanceFunds = 10000.0
	rewardScience = 10.0
	rewardReputation = 100.0
    rewardFunds = 10000.0
	   
	// Can only be done once and offered once at a time
	maxCompletions = 1
	maxSimultaneous = 1

	// Prestige level 2
	prestige = Significant

	PARAMETER
	{
		// Named for the first probe to be sent to Pluto, due to fly by in 2015.
		name = NewHorizons
		type = VesselParameterGroup

        define = New Horizons
        disableOnStateChange = false
			
		PARAMETER
		{
			name = HasCrew1
			type = HasCrew
			maxCrew = 0
			minCrew = 0
		}
		
		PARAMETER
		{
			name = HasPart1
			type = HasPart
			
			part = SCANsat_Scanner
			minCount = 1
		}
		
		PARAMETER
		{
			name = HasPart2
			type = HasPart
			
			part = SCANsat_Scanner24
			minCount = 1
		}
				
		PARAMETER
		{
			title = Achieve an orbit with the following parameters
			name = Orbit
			type = Orbit
			targetBody = Eeloo
			minApA = 363542
			maxApA = 367786
			minPeA = 363496
			maxPeA = 367703
			maxEccentricity = 0.0022
			minInclination = 58.6
			maxInclination = 59.0
			disableOnStateChange = false
		}
		
		PARAMETER
		{
			name = Duration
			type = Duration

			duration = 4h 30m

			preWaitText = We need a stable orbit for at least 
			waitingText = Orbit acquired, monitoring.
			completionText = Stable orbit confirmed!
		}
	}	

	PARAMETER
	{
		name = SCANsatCoverage1
		type = SCANsatCoverage

		coverage = 50.0
		scanType = AltimetryLoRes
	}
	
	PARAMETER
	{
		name = SCANsatCoverage2
		type = SCANsatCoverage

		coverage = 50.0
		scanType = Biome
	}

	
//	REQUIREMENT
//	{
//		name = all1
//		type = All
	
//		REQUIREMENT
//		{
//			name = SCANsatCoverage3
//			type = SCANsatCoverage

//			targetBody = Mun

//			// Contract is not valid unless Mun has 95% Biome data
//			maxCoverage = 100.0
//			minCoverage = 95.0		

//			// The type of scan to perform. Valid values are from SCANdata.SCANtype.
//			scanType = Biome
//		}
		
//		REQUIREMENT
//		{
//			name = SCANsatCoverage4
//			type = SCANsatCoverage

//			targetBody = Minmus

//			// Contract is not valid unless Minmus has 95% Biome data
//			maxCoverage = 100.0
//			minCoverage = 95.0		

//			// The type of scan to perform. Valid values are from SCANdata.SCANtype.
//			scanType = Biome
//		}
		
		REQUIREMENT
		{
			name = SCANsatCoverage4
			type = SCANsatCoverage

			targetBody = Eeloo

			// Maximum coverage that must be reached before the contract is valid.
			maxCoverage = 49.9
			minCoverage = 0.0

			// The type of scan to perform.  Valid values are from SCANdata.SCANtype.
			scanType = AltimetryLoRes
		}
//	}	
		
		
	BEHAVIOUR
	{
		name = OrbitGenerator1
		type = OrbitGenerator

		// Use this to generate an orbit with specific parameters
		FIXED_ORBIT
		{
			// Body for the orbit - defaulted from the contract if not supplied
			targetBody = Eeloo

			// Actual orbit details. Note that REF represents the reference
			// body - but will be overriden by the targetBody.
			
			ORBIT
			// Eeloo surface is SMA = 210000
			{
				SMA = 574500
				ECC = 0.00013
				INC = 58.85
				LPE = 209
				LAN = 83
				MNA = 1.55872660382504
				EPH = 31.3999999999994
				REF = 1
			}
		}
	}
}
